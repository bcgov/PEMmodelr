% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/balance_opt.R
\name{optimise_balance}
\alias{optimise_balance}
\title{Optimise Training Point Balance}
\usage{
optimise_balance(
  train_data,
  fuzz_matrix,
  num_slice = 2,
  n_iters = 4,
  mtry = 14,
  min_n = 7,
  use.neighbours = TRUE,
  acc_mets = c("spat_paf_theta.5", "aspat_paf_theta.5", "spat_paf_theta0")
)
}
\arguments{
\item{train_data}{A data frame of training data with target and covariates}

\item{num_slice}{Integer - number of slices to use for k-fold cv}

\item{n_iters}{Integer - number of optimisation iterations}
}
\value{
List with optimal downsample and smote
}
\description{
Optimise Training Point Balance
}
\examples{

trDat <- st_read("./s1_clean_neighbours_allatts.gpkg")
trDat <- as.data.table(st_drop_geometry(trDat))
trDat <- trDat[grep("ESSFmc_",mapunit1),]
setnames(trDat,old = "mapunit1",new = "target")
trDat[,c("CellNum","mapunit2","transect_id","data_type","transition","observer","comments","ID.1") := NULL]
trDat <- trDat[,colSums(is.na(trDat)) == 0, with = FALSE]
covmat <- cor(trDat[,-(1:5), with = FALSE])
covmat[upper.tri(covmat)] <- 0
diag(covmat) <- 0
trDat <- trDat[,c(rep(TRUE,5),!apply(covmat, 2, function(x) any(abs(x) > 0.9, na.rm = TRUE))),with = FALSE]

}
\author{
Kiri Daust
}
